<!DOCTYPE html>
<html>
<head>
    <title>BUDGET BULK CONTROL</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { font-family: sans-serif; background: #f0f2f5; padding: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .card { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        h3 { color: #c1121f; margin-bottom: 10px; border-bottom: 2px solid #eee; }
        textarea { width: 100%; height: 120px; margin: 10px 0; padding: 10px; border: 1px solid #ccc; font-size: 1rem; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background: #001d3d; color: #fff; border: none; font-weight: bold; cursor: pointer; border-radius: 4px; transition: 0.2s; }
        button:hover { background: #c1121f; }
        .hint { font-size: 0.8rem; color: #666; font-style: italic; }
        @media (max-width: 768px) { body { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="card">
        <h3>1. Top Band Pointers</h3>
        <p class="hint">Type each pointer on a NEW LINE</p>
        <textarea id="ptrIn" placeholder="Pointer 1&#10;Pointer 2..."></textarea>
    </div>

    <div class="card">
        <h3>2. Breaking News (Center Only)</h3>
        <p class="hint">Type each point on a NEW LINE</p>
        <textarea id="breakIn" placeholder="News Point 1&#10;News Point 2..."></textarea>
    </div>

    <div class="card">
        <h3>3. News Ticker (Bottom Scroll)</h3>
        <p class="hint">Type each ticker point on a NEW LINE</p>
        <textarea id="tickerIn" placeholder="Ticker 1&#10;Ticker 2..."></textarea>
    </div>

    <div class="card">
        <h3>4. Left Panel Feed</h3>
        <p class="hint">Format: Header | Body (One per line)</p>
        <textarea id="leftIn" placeholder="ತೆರಿಗೆ | ಆದಾಯ ತೆರಿಗೆ ಮಿತಿ ಏರಿಕೆ&#10;ಕೃಷಿ | ರೈತರಿಗೆ ಹೊಸ ಯೋಜನೆ"></textarea>
    </div>

    <div class="card">
        <h3>5. Top 10 Highlights</h3>
        <p class="hint">Format: Header | Body (Clipart finds: ಕೃಷಿ, ರೈಲ್ವೆ, ಶಿಕ್ಷಣ, ಆರೋಗ್ಯ...)</p>
        <textarea id="t10In" placeholder="ರೈಲ್ವೆ | ಹೊಸ ವಂದೇ ಭಾರತ್ ರೈಲು&#10;ಆರೋಗ್ಯ | 10 ಹೊಸ ಆಸ್ಪತ್ರೆಗಳು"></textarea>
    </div>

    <div class="card">
        <h3>6. Big Numbers</h3>
        <p class="hint">Format: Number | Label (One per line)</p>
        <textarea id="bnIn" placeholder="48.20 | TOTAL EXPENDITURE&#10;11.10 | CAPEX GROWTH"></textarea>
    </div>

    <div style="grid-column: 1 / -1; text-align: center; padding-bottom: 50px;">
        <button id="pushBtn" style="width: 50%;">PUSH UPDATES TO LIVE</button>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";

        // --- PASTE YOUR FIREBASE CONFIG HERE ---
        const firebaseConfig = {
  apiKey: "AIzaSyAWF53Pa6ykqL82HL-3-UdXNHla0OrhNII",
  authDomain: "budget-graphics.firebaseapp.com",
  databaseURL: "https://budget-graphics-default-rtdb.firebaseio.com",
  projectId: "budget-graphics",
  storageBucket: "budget-graphics.firebasestorage.app",
  messagingSenderId: "560743013359",
  appId: "1:560743013359:web:e3f0d2cd9825f7c3faf41a"
};
        // ---------------------------------------

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        document.getElementById('pushBtn').addEventListener('click', () => {
            const getData = (id) => document.getElementById(id).value.split('\n').filter(x => x.trim());
            
            const data = {
                pointers: getData('ptrIn'),
                breaking: getData('breakIn'),
                ticker: getData('tickerIn'),
                left: getData('leftIn').filter(x => x.includes('|')).map(x => {
                    const p = x.split('|'); return { h: p[0].trim(), b: p[1].trim() };
                }),
                top10: getData('t10In').filter(x => x.includes('|')).map(x => {
                    const p = x.split('|'); return { h: p[0].trim(), b: p[1].trim() };
                }),
                bignums: getData('bnIn').filter(x => x.includes('|')).map(x => {
                    const p = x.split('|'); return { v: p[0].trim(), l: p[1].trim() };
                })
            };

            set(ref(db, 'budget_live'), data)
                .then(() => alert("UPDATED SUCCESSFULLY!"))
                .catch((e) => alert("Error: " + e.message));
        });
    </script>
</body>
</html>
